/* tslint:disable */
/* eslint-disable */
/**
 * BroCabs
 * API documentation for BroCabs application
 *
 * The version of the OpenAPI document: 1.0
 * 
 *
 * NOTE: This class is auto generated by OpenAPI Generator (https://openapi-generator.tech).
 * https://openapi-generator.tech
 * Do not edit the class manually.
 */


import * as runtime from '../runtime';
import type {
  ApproveSubscriptionDto,
  CreateSubscriptionDto,
  DriverSubscription,
  OnboardingSubscriptionDto,
  SubscriptionIdDto,
  SubscriptionPlan,
} from '../models/index';
import {
    ApproveSubscriptionDtoFromJSON,
    ApproveSubscriptionDtoToJSON,
    CreateSubscriptionDtoFromJSON,
    CreateSubscriptionDtoToJSON,
    DriverSubscriptionFromJSON,
    DriverSubscriptionToJSON,
    OnboardingSubscriptionDtoFromJSON,
    OnboardingSubscriptionDtoToJSON,
    SubscriptionIdDtoFromJSON,
    SubscriptionIdDtoToJSON,
    SubscriptionPlanFromJSON,
    SubscriptionPlanToJSON,
} from '../models/index';

export interface SubscriptionControllerApproveRequestRequest {
    approveSubscriptionDto: ApproveSubscriptionDto;
}

export interface SubscriptionControllerCancelSubscriptionRequest {
    subscriptionIdDto: SubscriptionIdDto;
}

export interface SubscriptionControllerEnableAutoRenewRequest {
    subscriptionIdDto: SubscriptionIdDto;
}

export interface SubscriptionControllerGetSubscriptionRequest {
    subscriptionId: string;
}

export interface SubscriptionControllerSubscribeRequest {
    createSubscriptionDto: CreateSubscriptionDto;
}

export interface SubscriptionControllerSubscribeOnboardingRequest {
    onboardingSubscriptionDto: OnboardingSubscriptionDto;
}

/**
 * 
 */
export class SubscriptionsApi extends runtime.BaseAPI {

    /**
     * Admin endpoint to approve (and charge) or reject pending subscription requests.
     * [ADMIN] Approve or reject a pending subscription
     */
    async subscriptionControllerApproveRequestRaw(requestParameters: SubscriptionControllerApproveRequestRequest, initOverrides?: RequestInit | runtime.InitOverrideFunction): Promise<runtime.ApiResponse<void>> {
        if (requestParameters['approveSubscriptionDto'] == null) {
            throw new runtime.RequiredError(
                'approveSubscriptionDto',
                'Required parameter "approveSubscriptionDto" was null or undefined when calling subscriptionControllerApproveRequest().'
            );
        }

        const queryParameters: any = {};

        const headerParameters: runtime.HTTPHeaders = {};

        headerParameters['Content-Type'] = 'application/json';


        let urlPath = `/subscriptions/admin/approve`;

        const response = await this.request({
            path: urlPath,
            method: 'POST',
            headers: headerParameters,
            query: queryParameters,
            body: ApproveSubscriptionDtoToJSON(requestParameters['approveSubscriptionDto']),
        }, initOverrides);

        return new runtime.VoidApiResponse(response);
    }

    /**
     * Admin endpoint to approve (and charge) or reject pending subscription requests.
     * [ADMIN] Approve or reject a pending subscription
     */
    async subscriptionControllerApproveRequest(requestParameters: SubscriptionControllerApproveRequestRequest, initOverrides?: RequestInit | runtime.InitOverrideFunction): Promise<void> {
        await this.subscriptionControllerApproveRequestRaw(requestParameters, initOverrides);
    }

    /**
     * Disables auto-renewal. Does not delete the subscription record.
     * Cancel subscription
     */
    async subscriptionControllerCancelSubscriptionRaw(requestParameters: SubscriptionControllerCancelSubscriptionRequest, initOverrides?: RequestInit | runtime.InitOverrideFunction): Promise<runtime.ApiResponse<void>> {
        if (requestParameters['subscriptionIdDto'] == null) {
            throw new runtime.RequiredError(
                'subscriptionIdDto',
                'Required parameter "subscriptionIdDto" was null or undefined when calling subscriptionControllerCancelSubscription().'
            );
        }

        const queryParameters: any = {};

        const headerParameters: runtime.HTTPHeaders = {};

        headerParameters['Content-Type'] = 'application/json';


        let urlPath = `/subscriptions/cancel`;

        const response = await this.request({
            path: urlPath,
            method: 'POST',
            headers: headerParameters,
            query: queryParameters,
            body: SubscriptionIdDtoToJSON(requestParameters['subscriptionIdDto']),
        }, initOverrides);

        return new runtime.VoidApiResponse(response);
    }

    /**
     * Disables auto-renewal. Does not delete the subscription record.
     * Cancel subscription
     */
    async subscriptionControllerCancelSubscription(requestParameters: SubscriptionControllerCancelSubscriptionRequest, initOverrides?: RequestInit | runtime.InitOverrideFunction): Promise<void> {
        await this.subscriptionControllerCancelSubscriptionRaw(requestParameters, initOverrides);
    }

    /**
     * Enables auto-renewal for an active subscription.
     * Enable subscription auto-renewal
     */
    async subscriptionControllerEnableAutoRenewRaw(requestParameters: SubscriptionControllerEnableAutoRenewRequest, initOverrides?: RequestInit | runtime.InitOverrideFunction): Promise<runtime.ApiResponse<void>> {
        if (requestParameters['subscriptionIdDto'] == null) {
            throw new runtime.RequiredError(
                'subscriptionIdDto',
                'Required parameter "subscriptionIdDto" was null or undefined when calling subscriptionControllerEnableAutoRenew().'
            );
        }

        const queryParameters: any = {};

        const headerParameters: runtime.HTTPHeaders = {};

        headerParameters['Content-Type'] = 'application/json';


        let urlPath = `/subscriptions/enable-auto-renew`;

        const response = await this.request({
            path: urlPath,
            method: 'POST',
            headers: headerParameters,
            query: queryParameters,
            body: SubscriptionIdDtoToJSON(requestParameters['subscriptionIdDto']),
        }, initOverrides);

        return new runtime.VoidApiResponse(response);
    }

    /**
     * Enables auto-renewal for an active subscription.
     * Enable subscription auto-renewal
     */
    async subscriptionControllerEnableAutoRenew(requestParameters: SubscriptionControllerEnableAutoRenewRequest, initOverrides?: RequestInit | runtime.InitOverrideFunction): Promise<void> {
        await this.subscriptionControllerEnableAutoRenewRaw(requestParameters, initOverrides);
    }

    /**
     * Returns the active or pending subscription for the authenticated driver.
     * Get current subscription status
     */
    async subscriptionControllerGetCurrentSubscriptionRaw(initOverrides?: RequestInit | runtime.InitOverrideFunction): Promise<runtime.ApiResponse<DriverSubscription>> {
        const queryParameters: any = {};

        const headerParameters: runtime.HTTPHeaders = {};


        let urlPath = `/subscriptions/me`;

        const response = await this.request({
            path: urlPath,
            method: 'GET',
            headers: headerParameters,
            query: queryParameters,
        }, initOverrides);

        return new runtime.JSONApiResponse(response, (jsonValue) => DriverSubscriptionFromJSON(jsonValue));
    }

    /**
     * Returns the active or pending subscription for the authenticated driver.
     * Get current subscription status
     */
    async subscriptionControllerGetCurrentSubscription(initOverrides?: RequestInit | runtime.InitOverrideFunction): Promise<DriverSubscription> {
        const response = await this.subscriptionControllerGetCurrentSubscriptionRaw(initOverrides);
        return await response.value();
    }

    /**
     * Returns all subscriptions (active and inactive) for the authenticated driver.
     * Get subscription history
     */
    async subscriptionControllerGetHistoryRaw(initOverrides?: RequestInit | runtime.InitOverrideFunction): Promise<runtime.ApiResponse<void>> {
        const queryParameters: any = {};

        const headerParameters: runtime.HTTPHeaders = {};


        let urlPath = `/subscriptions/history`;

        const response = await this.request({
            path: urlPath,
            method: 'GET',
            headers: headerParameters,
            query: queryParameters,
        }, initOverrides);

        return new runtime.VoidApiResponse(response);
    }

    /**
     * Returns all subscriptions (active and inactive) for the authenticated driver.
     * Get subscription history
     */
    async subscriptionControllerGetHistory(initOverrides?: RequestInit | runtime.InitOverrideFunction): Promise<void> {
        await this.subscriptionControllerGetHistoryRaw(initOverrides);
    }

    /**
     * Get all active subscription plans
     */
    async subscriptionControllerGetPlansRaw(initOverrides?: RequestInit | runtime.InitOverrideFunction): Promise<runtime.ApiResponse<Array<SubscriptionPlan>>> {
        const queryParameters: any = {};

        const headerParameters: runtime.HTTPHeaders = {};


        let urlPath = `/subscriptions/plans`;

        const response = await this.request({
            path: urlPath,
            method: 'GET',
            headers: headerParameters,
            query: queryParameters,
        }, initOverrides);

        return new runtime.JSONApiResponse(response, (jsonValue) => jsonValue.map(SubscriptionPlanFromJSON));
    }

    /**
     * Get all active subscription plans
     */
    async subscriptionControllerGetPlans(initOverrides?: RequestInit | runtime.InitOverrideFunction): Promise<Array<SubscriptionPlan>> {
        const response = await this.subscriptionControllerGetPlansRaw(initOverrides);
        return await response.value();
    }

    /**
     * Get subscription details by ID
     */
    async subscriptionControllerGetSubscriptionRaw(requestParameters: SubscriptionControllerGetSubscriptionRequest, initOverrides?: RequestInit | runtime.InitOverrideFunction): Promise<runtime.ApiResponse<void>> {
        if (requestParameters['subscriptionId'] == null) {
            throw new runtime.RequiredError(
                'subscriptionId',
                'Required parameter "subscriptionId" was null or undefined when calling subscriptionControllerGetSubscription().'
            );
        }

        const queryParameters: any = {};

        const headerParameters: runtime.HTTPHeaders = {};


        let urlPath = `/subscriptions/{subscriptionId}`;
        urlPath = urlPath.replace(`{${"subscriptionId"}}`, encodeURIComponent(String(requestParameters['subscriptionId'])));

        const response = await this.request({
            path: urlPath,
            method: 'GET',
            headers: headerParameters,
            query: queryParameters,
        }, initOverrides);

        return new runtime.VoidApiResponse(response);
    }

    /**
     * Get subscription details by ID
     */
    async subscriptionControllerGetSubscription(requestParameters: SubscriptionControllerGetSubscriptionRequest, initOverrides?: RequestInit | runtime.InitOverrideFunction): Promise<void> {
        await this.subscriptionControllerGetSubscriptionRaw(requestParameters, initOverrides);
    }

    /**
     * Creates a subscription. If plan requires approval, returns PENDING_APPROVAL. Otherwise, processes payment and activates.
     * Subscribe driver to a subscription plan
     */
    async subscriptionControllerSubscribeRaw(requestParameters: SubscriptionControllerSubscribeRequest, initOverrides?: RequestInit | runtime.InitOverrideFunction): Promise<runtime.ApiResponse<void>> {
        if (requestParameters['createSubscriptionDto'] == null) {
            throw new runtime.RequiredError(
                'createSubscriptionDto',
                'Required parameter "createSubscriptionDto" was null or undefined when calling subscriptionControllerSubscribe().'
            );
        }

        const queryParameters: any = {};

        const headerParameters: runtime.HTTPHeaders = {};

        headerParameters['Content-Type'] = 'application/json';


        let urlPath = `/subscriptions/subscribe`;

        const response = await this.request({
            path: urlPath,
            method: 'POST',
            headers: headerParameters,
            query: queryParameters,
            body: CreateSubscriptionDtoToJSON(requestParameters['createSubscriptionDto']),
        }, initOverrides);

        return new runtime.VoidApiResponse(response);
    }

    /**
     * Creates a subscription. If plan requires approval, returns PENDING_APPROVAL. Otherwise, processes payment and activates.
     * Subscribe driver to a subscription plan
     */
    async subscriptionControllerSubscribe(requestParameters: SubscriptionControllerSubscribeRequest, initOverrides?: RequestInit | runtime.InitOverrideFunction): Promise<void> {
        await this.subscriptionControllerSubscribeRaw(requestParameters, initOverrides);
    }

    /**
     * Creates a PENDING_APPROVAL subscription during driver onboarding. No payment is processed. Admin must approve before subscription becomes active.
     * Subscribe driver to a plan during onboarding (no payment)
     */
    async subscriptionControllerSubscribeOnboardingRaw(requestParameters: SubscriptionControllerSubscribeOnboardingRequest, initOverrides?: RequestInit | runtime.InitOverrideFunction): Promise<runtime.ApiResponse<void>> {
        if (requestParameters['onboardingSubscriptionDto'] == null) {
            throw new runtime.RequiredError(
                'onboardingSubscriptionDto',
                'Required parameter "onboardingSubscriptionDto" was null or undefined when calling subscriptionControllerSubscribeOnboarding().'
            );
        }

        const queryParameters: any = {};

        const headerParameters: runtime.HTTPHeaders = {};

        headerParameters['Content-Type'] = 'application/json';


        let urlPath = `/subscriptions/onboarding/subscribe`;

        const response = await this.request({
            path: urlPath,
            method: 'POST',
            headers: headerParameters,
            query: queryParameters,
            body: OnboardingSubscriptionDtoToJSON(requestParameters['onboardingSubscriptionDto']),
        }, initOverrides);

        return new runtime.VoidApiResponse(response);
    }

    /**
     * Creates a PENDING_APPROVAL subscription during driver onboarding. No payment is processed. Admin must approve before subscription becomes active.
     * Subscribe driver to a plan during onboarding (no payment)
     */
    async subscriptionControllerSubscribeOnboarding(requestParameters: SubscriptionControllerSubscribeOnboardingRequest, initOverrides?: RequestInit | runtime.InitOverrideFunction): Promise<void> {
        await this.subscriptionControllerSubscribeOnboardingRaw(requestParameters, initOverrides);
    }

}
