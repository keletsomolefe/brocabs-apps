/* tslint:disable */
/* eslint-disable */
/**
 * BroCabs
 * API documentation for BroCabs application
 *
 * The version of the OpenAPI document: 1.0
 * 
 *
 * NOTE: This class is auto generated by OpenAPI Generator (https://openapi-generator.tech).
 * https://openapi-generator.tech
 * Do not edit the class manually.
 */


import * as runtime from '../runtime';
import type {
  CardControllerGetAddCardUrl200Response,
  ChargeCardDto,
  ChargeCardResponseDto,
  CheckoutResponseDto,
  CreateCheckoutDto,
  PayAdminFeeDto,
  SavedCardDto,
} from '../models/index';
import {
    CardControllerGetAddCardUrl200ResponseFromJSON,
    CardControllerGetAddCardUrl200ResponseToJSON,
    ChargeCardDtoFromJSON,
    ChargeCardDtoToJSON,
    ChargeCardResponseDtoFromJSON,
    ChargeCardResponseDtoToJSON,
    CheckoutResponseDtoFromJSON,
    CheckoutResponseDtoToJSON,
    CreateCheckoutDtoFromJSON,
    CreateCheckoutDtoToJSON,
    PayAdminFeeDtoFromJSON,
    PayAdminFeeDtoToJSON,
    SavedCardDtoFromJSON,
    SavedCardDtoToJSON,
} from '../models/index';

export interface CardControllerChargeCardRequest {
    chargeCardDto: ChargeCardDto;
}

export interface CardControllerCreateCheckoutRequest {
    createCheckoutDto: CreateCheckoutDto;
}

export interface CardControllerDeleteCardRequest {
    cardId: string;
}

export interface CardControllerPayAdminFeeRequest {
    payAdminFeeDto: PayAdminFeeDto;
}

/**
 * 
 */
export class CardsPaymentsApi extends runtime.BaseAPI {

    /**
     * Charges a previously saved card for a transaction. The card must have been successfully used in a previous transaction.
     * Charge a saved card
     */
    async cardControllerChargeCardRaw(requestParameters: CardControllerChargeCardRequest, initOverrides?: RequestInit | runtime.InitOverrideFunction): Promise<runtime.ApiResponse<ChargeCardResponseDto>> {
        if (requestParameters['chargeCardDto'] == null) {
            throw new runtime.RequiredError(
                'chargeCardDto',
                'Required parameter "chargeCardDto" was null or undefined when calling cardControllerChargeCard().'
            );
        }

        const queryParameters: any = {};

        const headerParameters: runtime.HTTPHeaders = {};

        headerParameters['Content-Type'] = 'application/json';


        let urlPath = `/cards/charge`;

        const response = await this.request({
            path: urlPath,
            method: 'POST',
            headers: headerParameters,
            query: queryParameters,
            body: ChargeCardDtoToJSON(requestParameters['chargeCardDto']),
        }, initOverrides);

        return new runtime.JSONApiResponse(response, (jsonValue) => ChargeCardResponseDtoFromJSON(jsonValue));
    }

    /**
     * Charges a previously saved card for a transaction. The card must have been successfully used in a previous transaction.
     * Charge a saved card
     */
    async cardControllerChargeCard(requestParameters: CardControllerChargeCardRequest, initOverrides?: RequestInit | runtime.InitOverrideFunction): Promise<ChargeCardResponseDto> {
        const response = await this.cardControllerChargeCardRaw(requestParameters, initOverrides);
        return await response.value();
    }

    /**
     * Creates a TradeSafe transaction and returns a checkout URL for payment
     * Create a checkout session
     */
    async cardControllerCreateCheckoutRaw(requestParameters: CardControllerCreateCheckoutRequest, initOverrides?: RequestInit | runtime.InitOverrideFunction): Promise<runtime.ApiResponse<CheckoutResponseDto>> {
        if (requestParameters['createCheckoutDto'] == null) {
            throw new runtime.RequiredError(
                'createCheckoutDto',
                'Required parameter "createCheckoutDto" was null or undefined when calling cardControllerCreateCheckout().'
            );
        }

        const queryParameters: any = {};

        const headerParameters: runtime.HTTPHeaders = {};

        headerParameters['Content-Type'] = 'application/json';


        let urlPath = `/cards/checkout`;

        const response = await this.request({
            path: urlPath,
            method: 'POST',
            headers: headerParameters,
            query: queryParameters,
            body: CreateCheckoutDtoToJSON(requestParameters['createCheckoutDto']),
        }, initOverrides);

        return new runtime.JSONApiResponse(response, (jsonValue) => CheckoutResponseDtoFromJSON(jsonValue));
    }

    /**
     * Creates a TradeSafe transaction and returns a checkout URL for payment
     * Create a checkout session
     */
    async cardControllerCreateCheckout(requestParameters: CardControllerCreateCheckoutRequest, initOverrides?: RequestInit | runtime.InitOverrideFunction): Promise<CheckoutResponseDto> {
        const response = await this.cardControllerCreateCheckoutRaw(requestParameters, initOverrides);
        return await response.value();
    }

    /**
     * Deletes a saved TradeSafe card for the authenticated user
     * Delete a saved card
     */
    async cardControllerDeleteCardRaw(requestParameters: CardControllerDeleteCardRequest, initOverrides?: RequestInit | runtime.InitOverrideFunction): Promise<runtime.ApiResponse<void>> {
        if (requestParameters['cardId'] == null) {
            throw new runtime.RequiredError(
                'cardId',
                'Required parameter "cardId" was null or undefined when calling cardControllerDeleteCard().'
            );
        }

        const queryParameters: any = {};

        const headerParameters: runtime.HTTPHeaders = {};


        let urlPath = `/cards/saved/{cardId}`;
        urlPath = urlPath.replace(`{${"cardId"}}`, encodeURIComponent(String(requestParameters['cardId'])));

        const response = await this.request({
            path: urlPath,
            method: 'DELETE',
            headers: headerParameters,
            query: queryParameters,
        }, initOverrides);

        return new runtime.VoidApiResponse(response);
    }

    /**
     * Deletes a saved TradeSafe card for the authenticated user
     * Delete a saved card
     */
    async cardControllerDeleteCard(requestParameters: CardControllerDeleteCardRequest, initOverrides?: RequestInit | runtime.InitOverrideFunction): Promise<void> {
        await this.cardControllerDeleteCardRaw(requestParameters, initOverrides);
    }

    /**
     * Returns a URL to authorize a new card for the authenticated user
     * Get card authorization URL for current user
     */
    async cardControllerGetAddCardUrlRaw(initOverrides?: RequestInit | runtime.InitOverrideFunction): Promise<runtime.ApiResponse<CardControllerGetAddCardUrl200Response>> {
        const queryParameters: any = {};

        const headerParameters: runtime.HTTPHeaders = {};


        let urlPath = `/cards/authorize`;

        const response = await this.request({
            path: urlPath,
            method: 'GET',
            headers: headerParameters,
            query: queryParameters,
        }, initOverrides);

        return new runtime.JSONApiResponse(response, (jsonValue) => CardControllerGetAddCardUrl200ResponseFromJSON(jsonValue));
    }

    /**
     * Returns a URL to authorize a new card for the authenticated user
     * Get card authorization URL for current user
     */
    async cardControllerGetAddCardUrl(initOverrides?: RequestInit | runtime.InitOverrideFunction): Promise<CardControllerGetAddCardUrl200Response> {
        const response = await this.cardControllerGetAddCardUrlRaw(initOverrides);
        return await response.value();
    }

    /**
     * Retrieves all saved cards associated with the current user
     * Get saved cards for current user
     */
    async cardControllerGetMySavedCardsRaw(initOverrides?: RequestInit | runtime.InitOverrideFunction): Promise<runtime.ApiResponse<Array<SavedCardDto>>> {
        const queryParameters: any = {};

        const headerParameters: runtime.HTTPHeaders = {};


        let urlPath = `/cards/saved`;

        const response = await this.request({
            path: urlPath,
            method: 'GET',
            headers: headerParameters,
            query: queryParameters,
        }, initOverrides);

        return new runtime.JSONApiResponse(response, (jsonValue) => jsonValue.map(SavedCardDtoFromJSON));
    }

    /**
     * Retrieves all saved cards associated with the current user
     * Get saved cards for current user
     */
    async cardControllerGetMySavedCards(initOverrides?: RequestInit | runtime.InitOverrideFunction): Promise<Array<SavedCardDto>> {
        const response = await this.cardControllerGetMySavedCardsRaw(initOverrides);
        return await response.value();
    }

    /**
     * Charges the admin fee (R300) to a saved card
     * Pay admin fee with saved card
     */
    async cardControllerPayAdminFeeRaw(requestParameters: CardControllerPayAdminFeeRequest, initOverrides?: RequestInit | runtime.InitOverrideFunction): Promise<runtime.ApiResponse<ChargeCardResponseDto>> {
        if (requestParameters['payAdminFeeDto'] == null) {
            throw new runtime.RequiredError(
                'payAdminFeeDto',
                'Required parameter "payAdminFeeDto" was null or undefined when calling cardControllerPayAdminFee().'
            );
        }

        const queryParameters: any = {};

        const headerParameters: runtime.HTTPHeaders = {};

        headerParameters['Content-Type'] = 'application/json';


        let urlPath = `/cards/pay-admin-fee`;

        const response = await this.request({
            path: urlPath,
            method: 'POST',
            headers: headerParameters,
            query: queryParameters,
            body: PayAdminFeeDtoToJSON(requestParameters['payAdminFeeDto']),
        }, initOverrides);

        return new runtime.JSONApiResponse(response, (jsonValue) => ChargeCardResponseDtoFromJSON(jsonValue));
    }

    /**
     * Charges the admin fee (R300) to a saved card
     * Pay admin fee with saved card
     */
    async cardControllerPayAdminFee(requestParameters: CardControllerPayAdminFeeRequest, initOverrides?: RequestInit | runtime.InitOverrideFunction): Promise<ChargeCardResponseDto> {
        const response = await this.cardControllerPayAdminFeeRaw(requestParameters, initOverrides);
        return await response.value();
    }

}
